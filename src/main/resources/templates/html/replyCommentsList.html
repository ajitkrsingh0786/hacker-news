<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" th:href="@{/css/main.css}"/>
    <style>
        .votearrow {
  width:      12px;
  height:     12px;
  border:     0px;
  margin:     3px 2px 6px;
  background: url("../images/grayarrow.gif")
  no-repeat;
}

.votelinks.nosee div.votearrow.rotate180 {
  display: none;
}





    </style>
</head>
<body>
<center>

    <table id="hnmain" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#f6f6ef" style="padding:10px;">
        <tbody>

        <span th:fragment="replyComments" th:remove="tag">

            <span th:if="${comment1 != null}">
                 <span th:if="${comment1.childComments != null}">

              <span th:with="someVariable=${someVariable+40}">
        <span th:each="comment2:${comment1.childComments}">
            <tr class="athing comtr ">
                                <td>
                                  <table border="0">
                                      <tbody>
                                      <tr>
                                          <td class="ind"><img src="s.gif" height="1" th:width="${someVariable}"></td>
                                          <td valign="top" class="votelinks">
                                               <span th:if="${likeCommentsId}">
                                           <center th:if="${not #arrays.contains(likeCommentsId,comment2.id)}">
                                            <a th:href="@{'/upVoteComment/?commentId='+${comment2.id}+'&goTo='+${#httpServletRequest.requestURI}}">
                                                <div class="votearrow" title="upvote">*</div>
                                            </a>
                                           </center>
                                              <center th:if="${#arrays.contains(likeCommentsId,comment2.id)}">
                                                  <a>
                                                      &nbsp;&nbsp;&nbsp;&nbsp;
                                                  </a>
                                              </center>
                                               </span>
                                          </td>
                                          <td class="default">
                                              <div style="margin-top:2px; margin-bottom:-10px;">
                                                  <span class="comhead">
                                                   <a th:href="@{/userProfile/{userId}(userId=${comment2.user.id})}" class="hnuser" th:utext="${comment2.user.username}"></a>
                                                      <span class="age">
                                                           <a href=" " th:utext="${comment2.createdAt}"></a>
                                                      </span>
                                                       <span th:if="${likeCommentsId}">
                                                      <span th:if="${#arrays.contains(likeCommentsId,comment2.id)}"> |
                                                          <a th:href="@{'/downVoteComment/?commentId='+${comment2.id}+'&goTo='+${#httpServletRequest.requestURI}}" id='un_25657047'>unvote</a>
                                                      </span>
                                                       </span>
                                                      <span class="par"></span>
                                                      <span class="storyon"></span>
                                                   </span>
                                              </div><br>
                                              <div class="comment">
                                             <span class="commtext c00">
                                                 <span th:utext="${comment2.message}"></span>
                                            <div class="reply"> <p>
                                                <font size="1">
                                               <u><a th:href="@{/replyComment/{commentId}(commentId=${comment2.id})}">reply</a></u>
                                                 </font>
                                               </p>
                                            </div>
                                             </span>
                                              </div>
                                          </td>
                                      </tr>
                                       </tbody>
                                  </table>
                                </td>
                            </tr>
            <span th:with="comment1 = ${comment2}"
                  th:include="html/replyCommentsList.html :: replyComments" th:remove="tag">
            </span>
        </span>
              </span>
        </span>
            </span>
        </span>
        </span>
        </tbody>
    </table>
</center>
</body>
</html>